<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM</title>
    <!--
    <style>
        .mi-clase{
            border-style: solid;
            background-color: pink;
        }

    </style>
        -->
</head>

<body>
    <h1>Hello, DOM!</h1>

    <div>
        <p> A ver, qué le ponemos</p>
    </div>

    <script>
        document.childNodes[1].childNodes[2].childNodes[1].style.backgroundColor = 'olive'
        document.childNodes[1].childNodes[2].childNodes[1].style.color = 'beige'
        document.childNodes[1].childNodes[2].childNodes[1].style.paddingLeft = '.5rem'
        document.childNodes[1].childNodes[2].childNodes[3].childNodes[1].style.color = 'green'

        const div = document.createElement('div')
        div.textContent = 'Descubriendo DOM'
        //div.className = 'mi-clase'
        div.style.borderStyle = 'solid'
        div.style.backgroundColor = 'rgb(250,140,100)'
        document.body.appendChild(div);

        const box = document.createElement('div')
        box.style.width = '100px'
        box.style.height = '100px'
        box.style.background = 'orange'
        box.style.position = 'absolute'
        box.style.top = '200px'
        box.style.left = '300px'
        document.body.appendChild(box)

        const minibox = document.createElement('div')
        minibox.style.width = '50px'
        minibox.style.height = '50px'
        minibox.style.backgroundColor = 'red'
        minibox.style.position = 'absolute'
        minibox.style.top = '25px'
        minibox.style.right = '25px'
        minibox.style.borderRadius = '50%'
        box.appendChild(minibox)

        const robot = document.createElement('div')
        robot.style.width = '200px'
        robot.style.height = '200px'
        robot.style.backgroundColor = 'grey'
        robot.style.top = '400px'
        robot.style.left = '300px'
        robot.style.position = 'absolute'
        document.body.appendChild(robot)

        const eyeL = document.createElement('div')
        eyeL.style.width = '40px'
        eyeL.style.height = '40px'
        eyeL.style.backgroundColor = 'silver'
        eyeL.style.position = 'absolute'
        eyeL.style.top = '50px'
        eyeL.style.left = '35px'
        robot.appendChild(eyeL)

        const eyeR = document.createElement('div')
        eyeR.style.width = '40px'
        eyeR.style.height = '40px'
        eyeR.style.backgroundColor = 'silver'
        eyeR.style.position = 'absolute'
        eyeR.style.top = '50px'
        eyeR.style.right = '35px'
        robot.appendChild(eyeR)

        const mouth = document.createElement('div')
        mouth.style.width = '80px'
        mouth.style.height = '40px'
        mouth.style.backgroundColor = 'silver'
        mouth.style.position = 'absolute'
        mouth.style.top = '130px'
        mouth.style.right = '60px'
        robot.appendChild(mouth)

        //Práctica pececito

        const fishBody = document.createElement('div')
        fishBody.style.width = '140px'
        fishBody.style.height = '90px'
        fishBody.style.background = 'linear-gradient(to right, #00b3b3, #66ffff)'
        fishBody.style.borderRadius = '50%'
        fishBody.style.position = 'absolute'
        fishBody.style.top = '700px'
        fishBody.style.left = '100px'
        document.body.appendChild(fishBody)

        const tail = document.createElement('div')
        tail.style.width = '0'
        tail.style.height = '0'
        tail.style.borderTop = '30px solid transparent'
        tail.style.borderBottom = '30px solid transparent'
        tail.style.borderRight = '40px solid #00cccc'
        tail.style.position = 'absolute'
        tail.style.top = '18px'
        tail.style.left = '140px'
        fishBody.appendChild(tail)

        const eyeFish = document.createElement('div')
        eyeFish.style.width = '25px'
        eyeFish.style.height = '25px'
        eyeFish.style.backgroundColor = 'white'
        eyeFish.style.borderRadius = '50%'
        eyeFish.style.position = 'absolute'
        eyeFish.style.top = '25px'
        eyeFish.style.left = '30px'
        fishBody.appendChild(eyeFish)

        const pupil = document.createElement('div')
        pupil.style.width = '15px'
        pupil.style.height = '15px'
        pupil.style.backgroundColor = 'blue'
        pupil.style.borderRadius = '50%'
        pupil.style.position = 'absolute'
        pupil.style.top = '5px'
        pupil.style.left = '0'
        eyeFish.appendChild(pupil)

        const finTop = document.createElement('div')
        finTop.style.width = '0'
        finTop.style.height = '0'
        finTop.style.borderLeft = '15px solid transparent'
        finTop.style.borderRight = '15px solid transparent'
        finTop.style.borderBottom = '25px solid #00cccc'
        finTop.style.position = 'absolute'
        finTop.style.top = '90px'
        finTop.style.left = '60px'
        fishBody.appendChild(finTop)

        const finBottom = document.createElement('div')
        finBottom.style.width = '0'
        finBottom.style.height = '0'
        finBottom.style.borderLeft = '15px solid transparent'
        finBottom.style.borderRight = '15px solid transparent'
        finBottom.style.borderTop = '25px solid #00cccc'
        finBottom.style.position = 'absolute'
        finBottom.style.top = '-25px'
        finBottom.style.left = '60px'
        fishBody.appendChild(finBottom)

        //PRÁCTICA 14-11-2025

        let marioX = 100, marioY = 200, marioWidth = 70, marioHeight = 150, marioLife = 10

        const step = 10

        const mario = document.createElement('div')
        mario.style.width = marioWidth +'px'
        mario.style.height = marioHeight + 'px'
        mario.style.backgroundColor = 'green'
        mario.style.backgroundImage = 'url(https://static.wikia.nocookie.net/mario/images/d/dc/Mario_%282%29.png)'
        mario.style.backgroundPosition = 'center'
        mario.style.backgroundSize = 'contain'
        mario.style.backgroundRepeat = 'no-repeat'
        mario.style.position = 'absolute'
        mario.style.position = 'absolute'
        mario.style.left = marioX + 'px'
        mario.style.top = marioY + 'px'
        document.body.appendChild(mario)

        mario.addEventListener('click', function() {
            alert('Ouch!')
        } )

        /*
        const marioHead = document.createElement('div')
        marioHead.style.width = '50px'
        marioHead.style.height = '50px'
        marioHead.style.backgroundColor = 'gold'
        marioHead.style.position = 'absolute'
        marioHead.style.top = '-50px'
        marioHead.style.left = '25px'
        mario.appendChild(marioHead)
        */

        //Enemy Mario
        
        let goombaX = 100, goombaY = 500, goombaWidth = 80, goombaHeight = 100, goombaLife = 10

        const goomba = document.createElement('div')
        goomba.style.width = goombaWidth + 'px'
        goomba.style.height = goombaHeight + 'px'
        goomba.style.backgroundColor = 'green'
        goomba.style.backgroundImage = 'url(https://static.wikia.nocookie.net/mario/images/d/d5/GoombaNSMB.png)'
        goomba.style.backgroundPosition = 'center'
        goomba.style.backgroundSize = 'contain'
        goomba.style.backgroundRepeat = 'no-repeat'
        goomba.style.position = 'absolute'
        goomba.style.left = goombaX + 'px'
        goomba.style.top = goombaY + 'px'
        document.body.appendChild(goomba)

        goomba.addEventListener('click', function() {
            alert('dont touch me!')
        } )

        document.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowUp')
                marioY -= step // marioY = marioY - step
            else if (event.key === 'ArrowDown')
                marioY += step
            else if (event.key === 'ArrowLeft')
                marioX -= step
            else if (event.key === 'ArrowRight')
                marioX += step

            mario.style.left = marioX + 'px'
            mario.style.top = marioY + 'px'

            console.log('mario', marioX, marioY)

            if (event.key === 'w')
                goombaY -= step 
            else if (event.key === 's')
                goombaY += step
            else if (event.key === 'a')
                goombaX -= step
            else if (event.key === 'd')
                goombaX += step

            goomba.style.left = goombaX + 'px'
            goomba.style.top = goombaY + 'px'

            console.log('goomba', goombaX, goombaY)

            // detect collision

            let marioXMax = marioX + marioWidth
            let marioYMax = marioY + marioHeight

            if (marioXMax > goombaX && marioYMax > goombaY /*|| ... || .... ||... */ )  {
                console.log('collision')

                marioLife--
                goombaLife--

                if (marioLife < 8 && goombaLife >= 4)
                mario.style.backgroundColor = 'gold'
            else if (marioLife < 4)
                mario.style.backgroundColor = 'tomato'

                if (goombaLife < 8 && goombaLife >= 4)
                goomba.style.backgroundColor = 'gold'
                else if (goombaLife < 4)
                goomba.style.backgroundColor = 'tomato'

}
        })

// 17 noviembre 2025 -- clock

        const clock = document.createElement('div')
        clock.style.width = '150px'
        clock.style.height = '15px'
        clock.style.backgroundColor = 'black'
        clock.style.color = 'greenyellow'
        clock.style.fontFamily = 'Sixtyfour'
        clock.style.textAlign = 'center'
        clock.style.padding = '10px'
        clock.style.borderWidth = '5px'
        clock.style.borderColor = 'gray'
        clock.style.borderStyle = 'solid'
        clock.textContent = 'Loading...'

        document.body.appendChild(clock)

        // contador
        //let counter = 30

        setInterval(function(){
            let now = new Date()
            //clock.textContent = counter ---> contador
            clock.textContent = now.toLocaleTimeString()
            //counter--   cuenta atrás
            console.log(clock.textContent)

        }, 1000)

        /* pointer follower */

        const follower = document.createElement('div')
        follower.style.width = '50px'
        follower.style.height = '50px'
        // follower.style.backgroundColor = 'gold'
        follower.style.borderRadius = '50%'
        follower.style.position = 'absolute'
        follower.style.backgroundImage = 'url(images/crosshair.png)'
        follower.style.backgroundPosition = 'center'
        follower.style.backgroundSize = 'contain'
        follower.style.backgroundRepeat = 'no-repeat'

        document.body.appendChild(follower)

        document.addEventListener('mousemove', function(event) {
            console.log(event.clientX, event.clientY)

            follower.style.left = event.clientX + 'px'
            follower.style.top = event.clientY + 'px'
        })

        // Estilos para <html>
        document.documentElement.style.height = '100%';
        document.documentElement.style.margin = '0';

        // Estilos para <body>
        document.body.style.margin = '0';
        document.body.style.padding = '0';
        document.body.style.backgroundColor = 'skyblue';
        document.body.style.cursor = 'none';
        document.body.style.height = '100%';

        /*
        
        OTRA FORMA DE HACERLO
        
        document.addEventListener('keydown', function (event) {
                    if (event.key === 'ArrowUp') {
                        marioY -= step
                        mario.style.top = marioY + 'px'
                    }
                    else if (event.key === 'ArrowDown') {
                        marioY += step
                        mario.style.top = marioY + 'px'
                    }
                    else if (event.key === 'ArrowLeft') {
                        marioX -= step
                        mario.style.left = marioX + 'px'
                    }
                    else if (event.key === 'ArrowRight') {
                        marioX += step
                        mario.style.left = marioX + 'px'
                    }
                })
        
        */
        //console.log('key down')


    </script>
</body>

</html>
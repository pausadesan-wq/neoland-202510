<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collection</title>
</head>

<body style="background-color: black;">
    <script>

        function Collection() {
            this.count = 0
        }

        Collection.prototype.add = function (item) {
            this[this.count] = item
            this.count++
        }

        Collection.prototype.remove = function (item) {
            for (var i = 0; i < this.count; i++) {
                if (this[i] === item) {
                    delete this[i]
                }
            }
        }

        Collection.prototype.removeFirst = function (item) {
            for (var i = 0; i < this.count; i++) {
                if (this[i] === item) {
                    delete this[i]
                    return
                }
            }
        }
        //names.update('Sergio', 'Dani') -- cambiar nombres

        Collection.prototype.update = function (target, replacement) {
            for (var i = 0; i < this.count; i++)
                if (this[i] === target)
                    this[i] = replacement
        }

        //names.updateFirst('Sergio', 'Dani')

        Collection.prototype.updateFirst = function (target, replacement) {
            for (var i = 0; i < this.count; i++)
                if (this[i] === target)
                    this[i] = replacement
        }

        Collection.prototype.push = function (item) {
            this[this.count] = item
            this.count++

            return this.count
        }
        //nums.push(1000)

        Collection.prototype.pop = function () {
            const lastItem = this[this.count - 1]
            //para eliminar una propiedad
            delete this[this.count - 1]
            this.count--
            return lastItem
            //names.pop()


        }

        //TODO implement Collection.prototype.includes
        //TODO implement Collection.prototype.indexOf
        //TODO implement Collection.prototype.reverse
        //TODO Jodlin: Collection.prototype.sort
        //TODO Sergio: Collection.prototype.shift

        //--EJERCICIO Sergio: Collection.prototype.shift -- 19 Noviembre 2025

        /* ESTO COMO LO HA HECHO SERGIO
        
        Collection.prototype.shift = function() {
             const firstItem = this[0]
             delete this[0]
             this.count--
             for(let i = 0; i < this.count; i++)
             this[i] = this[i + 1]
         
             delete this[this.count]
             return firstItem
         }
 
         //names.shift()
 */


        // Versi칩n de Manu - shift

        Collection.prototype.shift = function () {
            //Collection {0: 3.141516, 1: 666, 2: 2000, count: 3}
            //3.141516
            //Collection {0: 3.141516, 1: 666, 2: 2000, count: 2}
            //Collection {0: 666, 1: 2000, 2: 2000, count: 2}
            //Collection {0: 666, 1: 2000, count: 2}
            //return 3.141516

            const firstItem = this[0]

            this.count--

            for (let i = 0; i < this.count; i++) {
                const item = this[i + 1]

                this[i] = item

            }

            delete this[this.count]

            return firstItem

        }

        // Versi칩n de Manu - includes

        Collection.prototype.includes = function (searchItem) {
            //Collection {0: 'red', 1: 'green', 2: 'blue', count: 3}
            //searchItem is blue
            //compare value at 0 with searchItem
            //compare value at 1 with searchItem
            //compare value at 2 with searchItem
            //return true (hemos encontrado el azul)

            //searchItem is orange
            //compare value at 0 with searchItem
            //compare value at 1 with searchItem
            //compare value at 2 with searchItem
            //return false (no hay naranja)

            //searchItem is green
            //compare value at 0 with searchItem
            //compare value at 1 with searchItem
            //return true (hemos encontrado el verde)

            for (let i = 0; i < this.count; i++) {
                const item = this[i]

                if (item === searchItem) return true
            }

            return false
        }
        //console: colors.includes('color x')

        // Versi칩n de Manu - fromIndex

        //para buscar en la consola numeros: ejemplo [123, 456, 789].includes(123, 1) -- false
        // [123, 456, 789].includes(456, 2) -- true

        Collection.prototype.includes = function (searchItem, fromIndex) {
            //Collection {0: 'red', 1: 'green', 2: 'blue', count: 3}

            //searchItem green, fromIndex 0
            //compare value at 0 with searchItem
            //compare value at 1 with searchItem
            //return true

            //searchItem green, fromIndex 1
            //compare value at 1 with searchItem
            //return true

            //searchItem green, fromIndex 2
            //compare value at 2 with searchItem
            //return false
            /* m치s largo
                        if (fromIndex === undefined)
                        for (let i = 0; i < this.count; i++) {
                            const item = this[i]
            
                            if (item === searchItem) return true
                        }
            
                        else if (fromIndex >= 0)
                        for (let i = fromIndex; i < this.count; i++) {
                            const item = this[i]
            
                            if (item === searchItem) return true
                        }
            
                        return false
                    }
            
                    // en la consola, buscar colores: colors.includes('green', 0)
            
            */
            if (fromIndex === undefined) fromIndex = 0
            
                for (let i = fromIndex; i < this.count; i++) {
                    const item = this[i]

                    if (item === searchItem) return true
                }

            return false
        }

        // test

        const names = new Collection()
        names.add('Juan')
        names.add('Sergio')
        names.add('Laura')
        names.add('Albert')
        names.add('Sergio')
        names.add('Manu')

        //names.remove('Sergio')

        const colors = new Collection()
        colors.add('red')
        colors.add('green')
        colors.add('blue')

        const nums = new Collection()
        nums.add(3.141516) //PI
        nums.add(666) // (...)
        nums.add(2000)



    </script>
</body>

</html>